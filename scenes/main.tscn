[gd_scene load_steps=13 format=3 uid="uid://c1836v71tkimw"]

[ext_resource type="Script" uid="uid://c6ynwnu2equ4x" path="res://scripts/main.gd" id="1_sugp2"]
[ext_resource type="PackedScene" uid="uid://qh585tq4xhgo" path="res://scenes/team_errants.tscn" id="2_jyhfs"]
[ext_resource type="Script" uid="uid://ch41sfxp6t1uw" path="res://scripts/destructible_terrain_node.gd" id="2_tipki"]
[ext_resource type="Texture2D" uid="uid://b7dr8rk4jyebd" path="res://assets/Sprites/beautiful-island-isolated-png.png" id="3_85g3d"]
[ext_resource type="PackedScene" uid="uid://dwi1lisxq6bq" path="res://scenes/team_gardes.tscn" id="3_tbgi4"]
[ext_resource type="Theme" uid="uid://wwtmfnoaat7r" path="res://scenes/themedefault.tres" id="7_85g3d"]
[ext_resource type="Script" uid="uid://22ku8sqquovf" path="res://scripts/camera_2d.gd" id="7_o6xl0"]
[ext_resource type="FontFile" uid="uid://dbsu8y8i7okhm" path="res://assets/Font/Urban Shadow Sans Serif.otf" id="8_choun"]
[ext_resource type="AudioStream" uid="uid://xrxadkj2loap" path="res://assets/sound/in game/in game.mp3" id="8_tipki"]

[sub_resource type="LabelSettings" id="LabelSettings_o6xl0"]
font = ExtResource("8_choun")
font_size = 335
shadow_color = Color(0, 0, 0, 0.5882353)
shadow_offset = Vector2(5, 5)

[sub_resource type="LabelSettings" id="LabelSettings_choun"]
font = ExtResource("8_choun")
font_size = 185
shadow_color = Color(0, 0, 0, 0.64705884)
shadow_offset = Vector2(5, 5)

[sub_resource type="LabelSettings" id="LabelSettings_tipki"]
font_size = 300

[node name="main" type="Node2D"]
script = ExtResource("1_sugp2")

[node name="DestructiblePolygon2D" type="Node2D" parent="." groups=["ground"]]
script = ExtResource("2_tipki")
collidable = true
simplification = 16.0
metadata/_custom_type_script = "uid://ch41sfxp6t1uw"

[node name="Polygon2D" type="Polygon2D" parent="DestructiblePolygon2D" groups=["ground"]]
texture = ExtResource("3_85g3d")
texture_offset = Vector2(5000, 2000)
texture_scale = Vector2(0.1, 0.1)
polygon = PackedVector2Array(6658.668, 1103.4807, -4502.267, 1170.7559, -4589.728, 1096.7484, -4751.1885, 1076.5659, -4690.6406, 942.01575, -4603.183, 773.82806, -4562.8184, 625.8229, -4428.2676, 545.09283, -4320.628, 437.4527, -4233.167, 390.3592, -4132.2544, 302.9016, -4105.3447, 242.35403, -4091.8894, 181.80649, -4145.7095, 40.52884, -4211.3145, -255.92139, -4192.9346, -297.27612, -4137.795, -389.17578, -4114.8203, -490.26514, -4082.6553, -646.49426, -4087.2502, -788.9385, -4105.63, -917.5979, -4068.8704, -968.1426, -3944.806, -1027.8773, -3820.7417, -1151.9417, -3618.5627, -1243.8411, -3572.613, -1243.8411, -3466.9285, -1239.2461, -3287.7244, -1367.9054, -3163.6602, -1491.9697, -2938.5063, -1524.1346, -2653.618, -1560.8944, -2538.7434, -1602.2493, -2446.844, -1593.0593, -2207.9053, -1533.3246, -2184.9304, -1533.3246, -2129.7908, -1473.5898, -2033.2961, -1395.4753, -1909.2319, -1289.7909, -1798.9526, -1335.7406, -1794.3574, -1326.5507, -1766.7876, -1170.3215, -1509.4688, -1046.2572, -1509.4688, -894.6229, -1537.0391, -761.36865, -1541.6338, -669.4691, -1468.1143, -618.92444, -1247.5552, -706.229, -1187.8208, -756.7737, -1137.2759, -798.12854, -1086.7314, -862.4581, -1013.2114, -1037.0673, -976.45166, -1211.6763, -879.9575, -1285.1959, -797.24756, -1303.5758, -723.728, -1308.1708, -425.0547, -1280.601, -346.93994, -1276.006, -273.4204, -1156.5366, -117.19141, -1092.2069, 121.74866, -903.8126, 232.02808, -876.2427, 319.33264, -848.67285, 383.66223, -825.698, 765.0453, -793.5332, 939.6543, -720.01355, 971.8191, -651.089, 1137.2383, -600.5442, 1275.0875, -563.7844, 1371.582, -504.04968, 1546.1912, -490.26477, 1702.4202, -513.2396, 1858.6494, -499.4547, 1955.1438, -527.02466, 2047.0435, -618.9241, 1987.3088, -715.4186, 2005.6887, -862.45776, 2171.1077, -931.38245, 2446.8062, -958.9523, 2626.0103, -958.9523, 2933.8738, -931.38245, 3067.128, -844.0779, 3182.0024, -775.1533, 3430.131, -775.1533, 3522.0305, -738.39343, 3724.2092, -618.9241, 3843.679, -545.40454, 3967.743, -421.3402, 4119.377, -357.0105, 4215.872, -288.08594, 4404.2656, -182.40137, 4441.0254, -168.61646, 4588.0645, -127.26172, 4624.824, -104.286865, 4652.3945, -209.97119, 4638.6094, -334.03564, 4698.3447, -398.36523, 4730.509, -522.42957, 4730.509, -687.84875, 4781.0537, -798.1282, 4928.093, -756.7733, 5612.744, -761.3684, 5631.124, -733.79846, 5548.415, -554.5945, 5548.416, -536.21436, 5746, -453.50476, 5879.254, -347.8203, 5883.8496, -288.0857, 5920.6094, -173.21118, 5916.0137, -104.28662, 6058.458, 130.05713, 6067.6484, 235.74146, 6127.383, 332.23608, 6196.3076, 410.3506, 6251.4473, 493.06006, 6403.081, 424.1355, 6412.2715, 442.51538, 6600.665, 580.36475, 6619.045, 727.4038, 6596.0703, 828.4934, 6733.92, 975.5327, 6733.92, 1062.8372)
uv = PackedVector2Array(6658.668, 1103.4807, -4502.267, 1170.7559, -4589.728, 1096.7484, -4751.1885, 1076.5659, -4690.6406, 942.01575, -4603.183, 773.82806, -4562.8184, 625.8229, -4428.2676, 545.09283, -4320.628, 437.4527, -4233.167, 390.3592, -4132.2544, 302.9016, -4105.3447, 242.35403, -4091.8894, 181.80649, -4145.7095, 40.52884, -4211.3145, -255.92139, -4192.9346, -297.27612, -4137.795, -389.17578, -4114.8203, -490.26514, -4082.6553, -646.49426, -4087.2502, -788.9385, -4105.63, -917.5979, -4068.8704, -968.1426, -3944.806, -1027.8773, -3820.7417, -1151.9417, -3618.5627, -1243.8411, -3572.613, -1243.8411, -3466.9285, -1239.2461, -3287.7244, -1367.9054, -3163.6602, -1491.9697, -2938.5063, -1524.1346, -2653.618, -1560.8944, -2538.7434, -1602.2493, -2446.844, -1593.0593, -2207.9053, -1533.3246, -2184.9304, -1533.3246, -2129.7908, -1473.5898, -2033.2961, -1395.4753, -1909.2319, -1289.7909, -1798.9526, -1335.7406, -1794.3574, -1326.5507, -1766.7876, -1170.3215, -1509.4688, -1046.2572, -1509.4688, -894.6229, -1537.0391, -761.36865, -1541.6338, -669.4691, -1468.1143, -618.92444, -1247.5552, -706.229, -1187.8208, -756.7737, -1137.2759, -798.12854, -1086.7314, -862.4581, -1013.2114, -1037.0673, -976.45166, -1211.6763, -879.9575, -1285.1959, -797.24756, -1303.5758, -723.728, -1308.1708, -425.0547, -1280.601, -346.93994, -1276.006, -273.4204, -1156.5366, -117.19141, -1092.2069, 121.74866, -903.8126, 232.02808, -876.2427, 319.33264, -848.67285, 383.66223, -825.698, 765.0453, -793.5332, 939.6543, -720.01355, 971.8191, -651.089, 1137.2383, -600.5442, 1275.0875, -563.7844, 1371.582, -504.04968, 1546.1912, -490.26477, 1702.4202, -513.2396, 1858.6494, -499.4547, 1955.1438, -527.02466, 2047.0435, -618.9241, 1987.3088, -715.4186, 2005.6887, -862.45776, 2171.1077, -931.38245, 2446.8062, -958.9523, 2626.0103, -958.9523, 2933.8738, -931.38245, 3067.128, -844.0779, 3182.0024, -775.1533, 3430.131, -775.1533, 3522.0305, -738.39343, 3724.2092, -618.9241, 3843.679, -545.40454, 3967.743, -421.3402, 4119.377, -357.0105, 4215.872, -288.08594, 4404.2656, -182.40137, 4441.0254, -168.61646, 4588.0645, -127.26172, 4624.824, -104.286865, 4652.3945, -209.97119, 4638.6094, -334.03564, 4698.3447, -398.36523, 4730.509, -522.42957, 4730.509, -687.84875, 4781.0537, -798.1282, 4928.093, -756.7733, 5612.744, -761.3684, 5631.124, -733.79846, 5548.415, -554.5945, 5548.416, -536.21436, 5746, -453.50476, 5879.254, -347.8203, 5883.8496, -288.0857, 5920.6094, -173.21118, 5916.0137, -104.28662, 6058.458, 130.05713, 6067.6484, 235.74146, 6127.383, 332.23608, 6196.3076, 410.3506, 6251.4473, 493.06006, 6403.081, 424.1355, 6412.2715, 442.51538, 6600.665, 580.36475, 6619.045, 727.4038, 6596.0703, 828.4934, 6733.92, 975.5327, 6733.92, 1062.8372)

[node name="team_container" type="Node2D" parent="."]

[node name="team_errants" parent="team_container" instance=ExtResource("2_jyhfs")]

[node name="team_gardes" parent="team_container" instance=ExtResource("3_tbgi4")]

[node name="projectiles" type="Node2D" parent="."]

[node name="spawns-points" type="Node2D" parent="."]

[node name="errants" type="Node2D" parent="spawns-points"]

[node name="Marker2D" type="Marker2D" parent="spawns-points/errants"]
position = Vector2(-3711, -1326)

[node name="Marker2D2" type="Marker2D" parent="spawns-points/errants"]
position = Vector2(-3343, -1402)

[node name="Marker2D3" type="Marker2D" parent="spawns-points/errants"]
position = Vector2(-2846, -1680)

[node name="Marker2D4" type="Marker2D" parent="spawns-points/errants"]
position = Vector2(-2311, -1728)

[node name="Marker2D5" type="Marker2D" parent="spawns-points/errants"]
position = Vector2(-1867, -1517)

[node name="Marker2D6" type="Marker2D" parent="spawns-points/errants"]
position = Vector2(-1429, -860)

[node name="Marker2D7" type="Marker2D" parent="spawns-points/errants"]
position = Vector2(-1226, -1086)

[node name="Marker2D8" type="Marker2D" parent="spawns-points/errants"]
position = Vector2(-832, -1530)

[node name="Marker2D9" type="Marker2D" parent="spawns-points/errants"]
position = Vector2(-456, -1485)

[node name="gardes" type="Node2D" parent="spawns-points"]

[node name="Marker2D" type="Marker2D" parent="spawns-points/gardes"]
position = Vector2(761, -908)

[node name="Marker2D2" type="Marker2D" parent="spawns-points/gardes"]
position = Vector2(1271, -842)

[node name="Marker2D3" type="Marker2D" parent="spawns-points/gardes"]
position = Vector2(1682, -739)

[node name="Marker2D4" type="Marker2D" parent="spawns-points/gardes"]
position = Vector2(2104, -1153)

[node name="Marker2D5" type="Marker2D" parent="spawns-points/gardes"]
position = Vector2(2825, -1141)

[node name="Marker2D6" type="Marker2D" parent="spawns-points/gardes"]
position = Vector2(3447, -1093)

[node name="Marker2D7" type="Marker2D" parent="spawns-points/gardes"]
position = Vector2(4018, -848)

[node name="Marker2D8" type="Marker2D" parent="spawns-points/gardes"]
position = Vector2(4395, -571)

[node name="Marker2D9" type="Marker2D" parent="spawns-points/gardes"]
position = Vector2(5009, -896)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(4800, 2700)
zoom = Vector2(0.2, 0.2)
script = ExtResource("7_o6xl0")

[node name="Timer" type="Timer" parent="Camera2D"]
wait_time = 2.0
one_shot = true

[node name="partie" type="Timer" parent="."]
wait_time = 15.0

[node name="duree_totale" type="Timer" parent="."]
one_shot = true

[node name="InGame" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_tipki")
autoplay = true
bus = &"Music"
parameters/looping = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]
scale = Vector2(0.2, 0.2)
transform = Transform2D(0.2, 0, 0, 0.2, 0, 0)

[node name="UI" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ProgressBar" type="ProgressBar" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 2725.0
offset_top = 177.0
offset_right = 6885.0
offset_bottom = 364.0
theme = ExtResource("7_85g3d")
show_percentage = false

[node name="gardes" type="ProgressBar" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 1316.0
offset_top = 4666.0
offset_right = 2676.0
offset_bottom = 4966.0
theme = ExtResource("7_85g3d")
show_percentage = false

[node name="errants" type="ProgressBar" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 1316.0
offset_top = 4980.0
offset_right = 2676.0
offset_bottom = 5280.0
theme = ExtResource("7_85g3d")
show_percentage = false

[node name="Label" type="Label" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 217.0
offset_top = 141.0
offset_right = 2437.0
offset_bottom = 477.0
theme = ExtResource("7_85g3d")
text = "LES GARDES"
label_settings = SubResource("LabelSettings_o6xl0")

[node name="Label4" type="Label" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 123.0
offset_top = 4675.0
offset_right = 1020.0
offset_bottom = 5011.0
theme = ExtResource("7_85g3d")
text = "GARDES"
label_settings = SubResource("LabelSettings_o6xl0")

[node name="Label5" type="Label" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 127.0
offset_top = 5000.0
offset_right = 1177.0
offset_bottom = 5336.0
theme = ExtResource("7_85g3d")
text = "ERRANTS"
label_settings = SubResource("LabelSettings_o6xl0")

[node name="Label6" type="Label" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 8320.0
offset_top = 140.0
offset_right = 9410.0
offset_bottom = 476.0
theme = ExtResource("7_85g3d")
text = "29 MN 49"
label_settings = SubResource("LabelSettings_o6xl0")

[node name="armes" type="Panel" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 7770.0
offset_top = 4421.0
offset_right = 9490.0
offset_bottom = 5323.0
theme = ExtResource("7_85g3d")

[node name="pompe" type="Label" parent="CanvasLayer/UI/armes"]
layout_mode = 0
offset_left = 128.0
offset_top = 641.0
offset_right = 2348.0
offset_bottom = 841.0
theme = ExtResource("7_85g3d")
text = "POMPE (TOUCHE 3)"
label_settings = SubResource("LabelSettings_choun")

[node name="control" type="Label" parent="CanvasLayer/UI/armes"]
layout_mode = 0
offset_left = 128.0
offset_top = 91.0
offset_right = 2348.0
offset_bottom = 291.0
theme = ExtResource("7_85g3d")
text = "CONTROL (ZQSD)"
label_settings = SubResource("LabelSettings_choun")

[node name="patator" type="Label" parent="CanvasLayer/UI/armes"]
layout_mode = 0
offset_left = 128.0
offset_top = 452.0
offset_right = 2348.0
offset_bottom = 652.0
theme = ExtResource("7_85g3d")
text = "PAtATOR (TOUCHE 2)"
label_settings = SubResource("LabelSettings_choun")

[node name="grenade" type="Label" parent="CanvasLayer/UI/armes"]
layout_mode = 0
offset_left = 134.0
offset_top = 268.0
offset_right = 2354.0
offset_bottom = 468.0
theme = ExtResource("7_85g3d")
text = "GRENADE (TOUCHE !)"
label_settings = SubResource("LabelSettings_choun")

[node name="focus" type="Button" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 6427.0
offset_top = 5066.0
offset_right = 7718.0
offset_bottom = 5302.0
focus_mode = 0
theme = ExtResource("7_85g3d")
theme_override_fonts/font = ExtResource("8_choun")
theme_override_font_sizes/font_size = 130
text = "FOCUS MOB SELECTIONNE"

[node name="aide" type="Button" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 7230.0
offset_top = 4791.0
offset_right = 7707.0
offset_bottom = 5027.0
focus_mode = 0
theme = ExtResource("7_85g3d")
theme_override_fonts/font = ExtResource("8_choun")
theme_override_font_sizes/font_size = 130
text = "AIDE
"

[node name="ColorRect" type="ColorRect" parent="CanvasLayer/UI"]
process_mode = 3
visible = false
layout_mode = 0
offset_left = 2274.0
offset_top = 2002.0
offset_right = 7341.0
offset_bottom = 3756.0
color = Color(0, 0, 0, 1)

[node name="Label2" type="Label" parent="CanvasLayer/UI/ColorRect"]
layout_mode = 0
offset_left = -251.0
offset_top = 136.0
offset_right = 5308.0
offset_bottom = 786.0
theme = ExtResource("7_85g3d")
text = "PASSE LE CLAVIER A TON POTE"
label_settings = SubResource("LabelSettings_tipki")
horizontal_alignment = 1

[node name="Button" type="Button" parent="CanvasLayer/UI/ColorRect"]
process_mode = 3
layout_mode = 0
offset_left = 1416.0
offset_top = 809.0
offset_right = 3646.0
offset_bottom = 1501.0
theme = ExtResource("7_85g3d")
theme_override_font_sizes/font_size = 400
text = "C'EST BON"

[connection signal="timeout" from="Camera2D/Timer" to="Camera2D" method="_on_timer_timeout"]
[connection signal="timeout" from="partie" to="." method="_on_partie_timeout"]
[connection signal="timeout" from="duree_totale" to="." method="_on_duree_totale_timeout"]
[connection signal="pressed" from="CanvasLayer/UI/focus" to="." method="_on_focus_pressed"]
[connection signal="pressed" from="CanvasLayer/UI/ColorRect/Button" to="." method="_on_button_pressed"]
